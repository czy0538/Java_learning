# java语言程序设计

## 0.基本结构

### 0.1 基础结构

```java
import java.util.Scanner;//import java.util.*;倒入所有类

public class Main//至少一个类，首字母大写
{
	public static void main(String[] args)//主方法
    {
        System.out.println("Hello world");//大小写敏感，有分号
    }
}
```

### 0.1.1 输入与输出

- System.out表示标准输出设备

- System.in表示标准输入设备

- 从控制台读入需要创建Scanner类的对象

  ```java
  Scanner input=new Scanner(system.in);//把Scanner对象的引用赋给变量input
  ```

- print不换行，println自动换行

### 0.1.2 变量与常量

- 变量基本同c++
- 常量 用final
- 命名习惯：
  - 小写字母明明变量和方法
  - 类名首字母大写
  - 常量所有字母大写

### 0.1.3 数据类型

基本同c++

- byte为整数的最小类型-128~127
- 字面量long型加l，否则被认为int
- 科学计数法为E
- bool型为boolean，true和false均为小写

### 0.1.4 String类型

#### 0.1.4.1 简单方法

| 实例方法                             | 描述                                        |
| ------------------------------------ | ------------------------------------------- |
| .length()                            | 返回长度                                    |
| .charAt(index)                       | 返回指定字符位置                            |
| .concat(s2)                          | 返回连接后字符串                            |
| .trim()                              | 返回去掉两边空格的字符串                    |
| .equal(s2)                           | 若相同返回True                              |
| .compareTo(s2)                       | 返回整数，一个字符串是否大于小于等于s2      |
| .contains(s2)                        | s2是不是该字符串子串                        |
| .startsWith(string)/endsWith(string) | 是否以特定字符串开头/结尾                   |
| .substring(begin,end)                | 取从begin到end-1的子串                      |
| .indexOf(s,from)                     | 返回第一次出现s下标，从from开始，没有返回-1 |
| .lastIndexOf(s,from)                 | 返回最后出现s下标，从from开始，没有返回-1   |
| type.Type.parseType(string)          | 字符串传type类型数字                        |

- 相等运算符只能检测是否指向同一个对象，不会告知内容是否相等
- 数字转字符串 String s=124+""

#### 0.1.4.2 字符串读入

input.nextLine()

不要再nextByte等后使用nextLine



## 0.2方法（函数）

### 0.2.1 基本格式

```java
修饰符 返回值类型 方法名（形参列表）
{
方法体
}
```

### 0.2.2 重载方法

函数名相同，签名不同（形参类型），不能基于不同的修饰符或者返回值类型

java的普通变量不支持传引用



##　１数组

### 1.1 一维数组

#### 1.1.1 声明数组变量（创建一个引用）

elementType[] arrayRefVar;

也支持c++风格的声明方式

#### 1.1.2 创建数组

  arrayRefVar= new elementType[arraySize];

arraySize可以是变量

#### 1.1.3 数组初始化

  elementType [] arrayRefVar={value0,value1,...};

#### 1.1.4 foreach循环

  for(elementType element:arrayRefVar)

  无法改变，只能访问

#### 1.1.5 数组复制

  - 不可以直接用等于号，那样赋值的是引用
  - 1. 使用循环语句逐个复制
    2. 使用System类中的静态方法arraycopy
    3. 使用clone方法

```java
int[] sourceArray= {2,3,1,5,10};
int[] targetArray= new int[sourveArray.length]
//使用循环语句逐个复制
for(int i = 0; i<sourceArray.length;++i)
{
    targetArray[i]=sourceArray[i];
}
//arraycopy
System.arraycopy(sourceArray,srcPos,targetArray,tarPos,length)
```

#### 1.1.6 数组与方法

- 当将一个数组传递给方法时，数组的引用被传给方法

- 数组在java中是对象，jvm将对象储存在heap中，用于动态内存分配

- public static void name (int[] number)

- 当从方法中返回一个数组时，返回的是数组的引用

  ```java
  	public static int[] reverse(int[] in)
  	{
  		int[] array = new int[in.length];
  		for (int i = 0, j=in.length-1; i < in.length; ++i,--j)
  		{
  
  				array[j] = in[i];
  
  		}
  		return array;
  	}
  ```

  

- 可变参数列表，当作一个数组对待

  ```java
  public static int max(int... e)//参数类型 ... 名字
  	{
  		int max = e[0];
  		for (int i = 0; i < e.length; i++)
  		{
  			if (max < e[i])
  			{
  				max = e[i];
  			}
  		}
  		return max;
  	}
  ```

  



## 2.对象与类

可以把两个类放在一个文件中，文件中只能有一个类是public。public类必须与文件同名

### 2.1 定义类

```java
class Circle
{
	final double pi=3.1415926;
	double r;
	Circle()
	{
		Scanner input=new Scanner(System.in);
		System.out.print("请输入半径r：");
		r=input.nextDouble();
	}
	Circle(double rr)
	{
		r=rr;
	}
	double area()
	{
		return Math.pow(r,2)*pi;
	}
}
```

大部分与cpp相同，只是找不同的地方。

- 引用类型默认值为null

- Java没有给方法中的局部变量赋默认值

  ```java
  public class Main()
  {
      public static String main(String args)
      {
         	A a=new A();
          int x;
          System.out.println(a.x);//x=0
          System.out.println(x);//error
      }
  }
  class A
  {
      int x;
  }
  ```



### 2.2 可见性修饰符

- public修饰符：用在类，方法，数据域前，表示他们可以被任何一个其他类访问。

- 如果没有，只可被同一个包中任何一个类访问。

- private修饰符：只能在自己的类中被访问

- package packageName;
- 保护数据：数据设定为私有，然后通过get访问，set修改
- 给方法传递一个对象，是传递的对象的引用

### 2.3 this引用

this引用对象自身，常用在引用隐藏数据域，调用构造方法。

#### 2.3.1 引用隐藏数据域

如在set方法中，使用数据名作为参数名。

```java
class A
{
	int i;
	void setI(int i)
	{
		this.i=i;//局部变量i会掩盖类变量i，所以需要显式的this
	}
}
```

#### 2.3.2 使用this构造方法

```java
public class Circle
{
    private double radius;
   
    public Circle(double r)
    {
        this.r=r;
    }
    public Circle()
    {
        this.Circle(1.0);//调用上面的构造方法
    }
}
```

